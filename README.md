# Popular Films [Just Watch] to HTML - Generador de HTML en Typescript

Generador que utiliza TypeScript y se encarga de generar un sitio web est치tico que muestra una lista de pel칤culas populares y sus detalles. Obtiene la informaci칩n de las pel칤culas desde la API de The Movie Database (TMDb) y crea un archivo HTML principal con una lista de pel칤culas y archivos HTML individuales para cada pel칤cula con m치s detalles. 

## Instalaci칩n

- Descarga el repositorio, ex `git clone https://github.com/PelfSollution/p2-typescript-2023.git`

## Ejecuci칩n

- `bun run main.ts`

## Funcionalidades

- [x] Informaci칩n de provedores de streaming donde se pueda ver la pel칤cula (API Just Watch)

_"Integrar con plataformas de streaming en espa침a: enlaces a plataformas de streaming (como Netflix, Movistar, hbo, Amazon Prime... ) donde el usuario pueda ver la pel칤cula"_

[UPDATE]: La [API de Just Watch](https://www.justwatch.com/us/JustWatch-Streaming-API) no esta abierta, ni gratuita, con la API que se habia usado de The Movie Database API como es partnership de JustWatch puedes conseguir la informaci칩n de proovedores de servicios f칤sicos y en streaming que operan en cada pais para poder ver la pel칤cula [TMDB Movie Watch Providers API](https://developers.themoviedb.org/3/movies/get-movie-watch-providers). 

El tema es que no se puede obtener el enlace directo a la plataforma desde la API de TMDB, eso lo tiene capado Just Watch, entiendo que por modelo de negocio, les interesa que pases por su p치gina Web. 

[FIX]: 游뗴 usando un "hack" un poco tosco ya que la api de Just Watch no esta abierta.
[commit 4077c63](https://github.com/PelfSollution/p2-typescript-2023/commit/4077c639d50796fff955eaffcebc7175d0a368c1)

 El c칩digo verifica si el nombre del proveedor incluye palabras clave como "netflix", "hbo", "amazon", "prime", etc o finalmente en google, y luego construye la URL de b칰squeda correspondiente a la  plataforma utilizando el t칤tulo codificado de la pel칤cula. La soluci칩n es m치s o menos efectiva si deseas realizar b칰squedas b치sicas en diferentes plataformas de streaming sin depender de la API de JustWatch.

- [x] Paginaci칩n

_"Permitir al usuario navegar a trav칠s de varias p치ginas de pel칤culas, en lugar de mostrar solo las pel칤culas m치s populares en una sola p치gina."_

Problemas ya que la API [solo permite 20 peliculas por p치gina](https://www.themoviedb.org/talk/623012ed357c00001b46ae10), asi que con esta API debere hacer paginaci칩n para ir cargando cada vez 20 pel칤culas.

[UPDATE]: Para la p치ginacion y poder cargar m치s de 20 pel칤culas, se hace un bucle, en cada iteracion se llama a la funcion `loadFilms` y se renderiza ese bloque los listados de 20 pel칤culas m치s populares, la primera index.html y las siguientes en `index{n칰mero_p치gina}.html` y a침adiendo los las peliculas en bloque en el array `allFilms` con `concat`. Cuando acaba se ejecuta una promesa para procesar los detalles de cada pelicula del array de forma as칤ncrona.